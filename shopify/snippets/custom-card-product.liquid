{% comment %}
  【更新版】
  `main-block-container.liquid`から呼び出される商品カード。
  移行元のHTML構造とTailwind CSSのクラスを正確に反映し、
  Shopifyの商品オブジェクトとメタフィールドから動的に情報を表示する。

  引数:
  - card_product: 表示する商品オブジェクト
  - is_placeholder: (任意) プレースホルダーとして表示するか
{% endcomment %}

{%- if is_placeholder -%}
  <div class="product-card-placeholder">
    <div class="relative bg-gray-200 pt-[124.8697916%] mb-4"></div>
    <div class="h-4 bg-gray-200 rounded w-3/4 mb-2"></div>
    <div class="h-4 bg-gray-200 rounded w-1/2"></div>
  </div>
{%- else -%}
  <a href="{{ card_product.url | default: '#' }}" class="card-anchor relative text-left block group">
    <div class="group relative block pt-[124.8697916%] overflow-hidden mb-4">
      {%- if card_product.featured_media -%}
        <img
          src="{{ card_product.featured_media | image_url: width: 530 }}"
          alt="{{ card_product.featured_media.alt | escape }}"
          class="absolute inset-0 w-full h-full object-cover transition-transform duration-300 group-hover:scale-110"
          width="{{ card_product.featured_media.width }}"
          height="{{ card_product.featured_media.height }}"
          loading="lazy"
        >
      {%- else -%}
        {{ 'product-1' | placeholder_svg_tag: 'placeholder-svg' }}
      {%- endif -%}
    </div>
    <span class="block text-xs sm:text-sm">
      {{ card_product.title | escape }}
      {%- if card_product.metafields.custom.product_model_no.value != blank -%}
        <br>
        モデルNo: {{ card_product.metafields.custom.product_model_no.value }}
      {%- endif -%}
    </span>
    <span class="block mt-1 font-medium">
      {{- card_product.price | money -}}
    </span>
  </a>
{%- endif -%}
